<odoo>
  <data>


    <record model="ir.ui.view" id="game.player_tree">
      <field name="name">game.player.tree</field>
      <field name="model">res.partner</field>
      <field name="arch" type="xml">
          <tree string="Jugadores">
              <field name="name"/>
              <field name="level"/>
              <field name="dinos"/>
              <field name="edificios"/>
              <field name="oro"/>
              <field name="carne"/>
              <field name="vegetal"/>
          </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="game.player_form">
      <field name="name">game.player.form</field>
      <field name="model">res.partner</field>
      <field name="arch" type="xml">
          <form string="Jugador">
              <header>
                <button name="%(action_server_update_player)d" string="Actualizar Campo" type="object" class="oe_highlight"/>
              </header>
              <sheet>
                  <group>
                      <field name="name"/>
                      <field name="edificios"/>
                      <field name="dinos"/>
                      <field name="oro"/>
                      <field name="carne"/>
                      <field name="vegetal"/>
                      <button name="%(game.launch_batalla_wizard)d" type="action"
                              string="Crear batalla" class="oe_highlight" context="{'default_state': 'players'}"/>
                      <button name="%(game.launch_edificio_wizard)d" type="action"
                              string="Crear edificio" class="oe_highlight" context="{'default_state': 'players'}"/>
                  </group>
              </sheet>
          </form>
      </field>
    </record>

    <!-- Action server -->
    <record id="action_server_update_player" model="ir.actions.server">
            <field name="name">Jugador a nivel 10</field>
            <field name="model_id" ref="model_res_partner"/>
            <field name="state">code</field>
            <field name="code">self.env['res.partner'].browse(self._context.get('active_id')).write({'level': '10'})</field>
    </record>

  </data>
</odoo>
